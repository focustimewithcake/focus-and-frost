<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Mind Map Generator</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6b8cbc;
            --accent-color: #ff6b6b;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .app-description {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .upload-section, .customize-section, .preview-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            font-size: 1.8rem;
        }
        
        .upload-area {
            border: 2px dashed var(--secondary-color);
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background-color: rgba(107, 140, 188, 0.05);
        }
        
        .upload-area:hover {
            background-color: rgba(107, 140, 188, 0.1);
        }
        
        .upload-area i {
            font-size: 3rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        .upload-text {
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-accent {
            background-color: var(--accent-color);
        }
        
        .btn-accent:hover {
            background-color: #ff5252;
        }
        
        .customization-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .option-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .option-group label {
            font-weight: 600;
        }
        
        .option-group select, .option-group input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .template-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .template-item {
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .template-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .template-item img {
            width: 100%;
            height: 100px;
            object-fit: cover;
        }
        
        .template-name {
            padding: 10px;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .mindmap-preview {
            min-height: 400px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }
        
        .mindmap-container {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .node {
            position: absolute;
            background: white;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            padding: 15px;
            min-width: 150px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .node:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }
        
        .node-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-color);
        }
        
        .node-content {
            font-size: 0.9rem;
        }
        
        .node-image {
            margin-top: 10px;
            max-width: 100%;
            border-radius: 5px;
        }
        
        .central-node {
            background-color: var(--primary-color);
            color: white;
            z-index: 10;
        }
        
        .central-node .node-title {
            color: white;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: flex-end;
        }
        
        .progress-bar {
            height: 5px;
            background-color: #eee;
            border-radius: 5px;
            margin-top: 15px;
            overflow: hidden;
            display: none;
        }
        
        .progress {
            height: 100%;
            background-color: var(--success-color);
            width: 0%;
            transition: width 0.3s;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #6c757d;
        }
        
        @media (max-width: 768px) {
            .customization-options {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Mind Map Generator</h1>
            <p class="app-description">Tạo sơ đồ tư duy từ hình ảnh chứa văn bản một cách thông minh</p>
        </header>
        
        <div class="main-content">
            <section class="upload-section">
                <h2 class="section-title"><i class="fas fa-upload"></i> Tải ảnh lên</h2>
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p class="upload-text">Kéo thả ảnh vào đây hoặc click để chọn từ thiết bị</p>
                    <button class="btn" id="browseButton">Duyệt tệp</button>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                </div>
                <div class="progress-bar" id="progressBar">
                    <div class="progress" id="progress"></div>
                </div>
            </section>
            
            <section class="customize-section">
                <h2 class="section-title"><i class="fas fa-sliders-h"></i> Tuỳ chỉnh sơ đồ</h2>
                <div class="customization-options">
                    <div class="option-group">
                        <label for="layoutStyle">Kiểu bố cục</label>
                        <select id="layoutStyle">
                            <option value="radial">Dạng tỏa tròn</option>
                            <option value="tree">Dạng cây</option>
                            <option value="organizational">Dạng tổ chức</option>
                            <option value="timeline">Dạng thời gian</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label for="colorScheme">Màu sắc</label>
                        <select id="colorScheme">
                            <option value="blue">Xanh dương</option>
                            <option value="green">Xanh lá</option>
                            <option value="red">Đỏ</option>
                            <option value="purple">Tím</option>
                            <option value="custom">Tuỳ chỉnh</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label for="fontStyle">Kiểu chữ</label>
                        <select id="fontStyle">
                            <option value="normal">Bình thường</option>
                            <option value="bold">Đậm</option>
                            <option value="italic">Nghiêng</option>
                        </select>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Mẫu sơ đồ</h3>
                <div class="template-gallery">
                    <div class="template-item">
                        <img src="https://via.placeholder.com/150x100/4a6fa5/ffffff?text=Tròn" alt="Dạng tỏa tròn">
                        <div class="template-name">Tỏa tròn</div>
                    </div>
                    <div class="template-item">
                        <img src="https://via.placeholder.com/150x100/28a745/ffffff?text=Cây" alt="Dạng cây">
                        <div class="template-name">Dạng cây</div>
                    </div>
                    <div class="template-item">
                        <img src="https://via.placeholder.com/150x100/dc3545/ffffff?text=Tổ+chức" alt="Dạng tổ chức">
                        <div class="template-name">Tổ chức</div>
                    </div>
                    <div class="template-item">
                        <img src="https://via.placeholder.com/150x100/6f42c1/ffffff?text=Thời+gian" alt="Dạng thời gian">
                        <div class="template-name">Thời gian</div>
                    </div>
                </div>
            </section>
            
            <section class="preview-section">
                <h2 class="section-title"><i class="fas fa-eye"></i> Xem trước sơ đồ</h2>
                <div class="mindmap-preview">
                    <div class="mindmap-container" id="mindmapContainer">
                        <!-- Sơ đồ tư duy sẽ được hiển thị ở đây -->
                        <div class="node central-node" style="top: 200px; left: 50%; transform: translateX(-50%);">
                            <div class="node-title">Chủ đề chính</div>
                            <div class="node-content">Nội dung sẽ được hiển thị ở đây</div>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn" id="addImageBtn"><i class="fas fa-image"></i> Thêm ảnh vào ô</button>
                    <button class="btn btn-accent" id="downloadBtn"><i class="fas fa-download"></i> Tải xuống</button>
                    <button class="btn" id="shareBtn"><i class="fas fa-share-alt"></i> Chia sẻ</button>
                </div>
            </section>
        </div>
        
        <footer>
            <p>© 2023 AI Mind Map Generator | Ứng dụng được phát triển bằng HTML, CSS và JavaScript</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('fileInput');
            const uploadArea = document.getElementById('uploadArea');
            const browseButton = document.getElementById('browseButton');
            const progressBar = document.getElementById('progressBar');
            const progress = document.getElementById('progress');
            const mindmapContainer = document.getElementById('mindmapContainer');
            const addImageBtn = document.getElementById('addImageBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const shareBtn = document.getElementById('shareBtn');
            
            // Xử lý sự kiện tải lên ảnh
            browseButton.addEventListener('click', function() {
                fileInput.click();
            });
            
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.style.borderColor = '#4a6fa5';
                uploadArea.style.backgroundColor = 'rgba(107, 140, 188, 0.2)';
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.style.borderColor = '#6b8cbc';
                uploadArea.style.backgroundColor = 'rgba(107, 140, 188, 0.05)';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.style.borderColor = '#6b8cbc';
                uploadArea.style.backgroundColor = 'rgba(107, 140, 188, 0.05)';
                
                if (e.dataTransfer.files.length) {
                    fileInput.files = e.dataTransfer.files;
                    processImage();
                }
            });
            
            fileInput.addEventListener('change', processImage);
            
            // Xử lý ảnh và tạo sơ đồ tư duy
            function processImage() {
                if (!fileInput.files.length) return;
                
                const file = fileInput.files[0];
                const reader = new FileReader();
                
                progressBar.style.display = 'block';
                
                reader.onloadstart = function() {
                    progress.style.width = '30%';
                };
                
                reader.onload = function(e) {
                    progress.style.width = '60%';
                    
                    // Giả lập quá trình xử lý AI và OCR
                    setTimeout(function() {
                        progress.style.width = '100%';
                        
                        // Giả lập kết quả trích xuất văn bản từ ảnh
                        const extractedText = "Đây là văn bản mẫu được trích xuất từ hình ảnh. Ứng dụng thực tế sẽ sử dụng API OCR như Tesseract.js hoặc Google Vision API để nhận dạng văn bản thật.";
                        
                        // Tạo sơ đồ tư duy từ văn bản
                        createMindMap(extractedText);
                        
                        // Ẩn thanh tiến trình sau khi hoàn thành
                        setTimeout(function() {
                            progressBar.style.display = 'none';
                        }, 500);
                    }, 1500);
                };
                
                reader.readAsDataURL(file);
            }
            
            // Tạo sơ đồ tư duy từ văn bản
            function createMindMap(text) {
                // Xóa nội dung cũ
                mindmapContainer.innerHTML = '';
                
                // Tạo nút trung tâm
                const centralNode = document.createElement('div');
                centralNode.className = 'node central-node';
                centralNode.style.top = '200px';
                centralNode.style.left = '50%';
                centralNode.style.transform = 'translateX(-50%)';
                centralNode.innerHTML = `
                    <div class="node-title">Chủ đề chính</div>
                    <div class="node-content">${text.substring(0, 50)}...</div>
                `;
                
                mindmapContainer.appendChild(centralNode);
                
                // Tạo các nút con (giả lập)
                const nodes = [
                    { title: 'Ý tưởng 1', content: text.substring(0, 30), top: 100, left: '30%' },
                    { title: 'Ý tưởng 2', content: text.substring(31, 60), top: 100, left: '70%' },
                    { title: 'Ý tưởng 3', content: text.substring(61, 90), top: 300, left: '30%' },
                    { title: 'Ý tưởng 4', content: text.substring(91, 120), top: 300, left: '70%' }
                ];
                
                nodes.forEach((node, index) => {
                    const nodeElement = document.createElement('div');
                    nodeElement.className = 'node';
                    nodeElement.style.top = node.top + 'px';
                    nodeElement.style.left = node.left;
                    nodeElement.innerHTML = `
                        <div class="node-title">${node.title}</div>
                        <div class="node-content">${node.content}</div>
                    `;
                    
                    mindmapContainer.appendChild(nodeElement);
                });
            }
            
            // Xử lý sự kiện thêm ảnh vào ô
            addImageBtn.addEventListener('click', function() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                
                input.onchange = function(e) {
                    const file = e.target.files[0];
                    if (!file) return;
                    
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        // Thêm ảnh vào nút đầu tiên (chỉ để minh họa)
                        const firstNode = document.querySelector('.node');
                        if (firstNode) {
                            const img = document.createElement('img');
                            img.src = event.target.result;
                            img.className = 'node-image';
                            firstNode.appendChild(img);
                        }
                    };
                    
                    reader.readAsDataURL(file);
                };
                
                input.click();
            });
            
            // Xử lý sự kiện tải xuống
            downloadBtn.addEventListener('click', function() {
                alert('Tính năng tải xuống sẽ được kích hoạt. Ứng dụng thực tế sẽ cho phép tải sơ đồ dưới dạng hình ảnh PNG hoặc PDF.');
            });
            
            // Xử lý sự kiện chia sẻ
            shareBtn.addEventListener('click', function() {
                alert('Tính năng chia sẻ sẽ được kích hoạt. Ứng dụng thực tế sẽ cho phép chia sẻ sơ đồ qua email hoặc mạng xã hội.');
            });
            
            // Xử lý thay đổi tuỳ chọn
            document.getElementById('layoutStyle').addEventListener('change', function() {
                alert('Kiểu bố cục đã thay đổi: ' + this.value);
            });
            
            document.getElementById('colorScheme').addEventListener('change', function() {
                alert('Màu sắc đã thay đổi: ' + this.value);
            });
        });
    </script>
</body>
</html>
